{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.command // empty' | { read cmd; if echo \"$cmd\" | grep -qiE 'provrag\\s+clean' && ! echo \"$cmd\" | grep -qiE '(--yes|-y)'; then echo '[proagent-provrag] WARNING: provrag clean deletes an OpenSearch index permanently. The CLI will prompt for confirmation interactively.' >&2; fi; }",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path // empty' | { read fp; if echo \"$fp\" | grep -qiE '(pipeline|ingestion|steps)\\.py$'; then echo '[proagent-provrag] Pipeline file modified. Remember to run: task check'; fi; }",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path // empty' | { read fp; if echo \"$fp\" | grep -qiE '(pipeline|ingestion|steps)\\.py$'; then echo '[proagent-provrag] Pipeline file edited. Remember to run: task check'; fi; }",
            "timeout": 5
          }
        ]
      }
    ]
  }
}
